{"version":3,"file":"imageHandler.js","sourceRoot":"","sources":["../../src/lib/imageHandler.ts"],"names":[],"mappings":"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"}